<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <ul id="list"></ul>
    <br />

    <ul id="listLongNames"></ul>
    <br />

    <span>updated list</span>
    <ul id="listUpdated"></ul>
    <br />

    <input type="text" id="input" placeholder="Enter text" />
    <button onclick="getValue()">search</button>
    <br />

    <span>search results</span>
    <ul id="listSearch"></ul>

    <script type="text/javascript">
      let list = document.getElementById("list");
      let listLongNames = document.getElementById("listLongNames");
      let listUpdated = document.getElementById("listUpdated");
      let listSearch = document.getElementById("listSearch");

      // Data
      const musicData = [
        { artist: "Adele", name: "25", sales: 1731000 },
        { artist: "Drake", name: "Views", sales: 1608000 },
        { artist: "Beyonce", name: "Lemonade", sales: 1554000 },
        { artist: "Chris Stapleton", name: "Traveller", sales: 1085000 },
        { artist: "Pentatonix", name: "A Pentatonix Christmas", sales: 904000 },
        {
          artist: "Original Broadway Cast Recording",
          name: "Hamilton: An American Musical",
          sales: 820000,
        },
        { artist: "Twenty One Pilots", name: "Blurryface", sales: 738000 },
        { artist: "Prince", name: "The Very Best of Prince", sales: 668000 },
        { artist: "Rihanna", name: "Anti", sales: 603000 },
        { artist: "Justin Bieber", name: "Purpose", sales: 554000 },
      ];

      //1
      let musicDataFilter = musicData.filter((a) => a.sales > 1000000);

      musicDataFilter.forEach((fa) => {
        let li = document.createElement("li");
        li.innerText = `${fa.artist} es un gran artista`;
        list.appendChild(li);
      });
      //2
      let totalAlbumSales = musicData.reduce((acc, c) => acc + c.sales, 0);
      //3
      let longNames = musicData.filter((a) => a.name.length > 8);

      longNames.forEach((fa) => {
        let li = document.createElement("li");
        li.innerText = `${fa.artist} tiene un nombre muy grande`;
        listLongNames.appendChild(li);
      });
      //4
      function addArtist(artist) {
        musicData.push(artist);
      }

      function deleteArtist(artist) {
        let index = musicData.findIndex((a) => a.artist === artist);
        musicData.splice(index, 1);
      }

      function findArtist(artist) {
        return musicData.filter((a) => a.artist == artist);
      }
      //5.1
      deleteArtist("Adele");
      deleteArtist("Prince");
      deleteArtist("Justin Bieber");
      //5.2
      let artist = { artist: "Radiohead", name: "Ok Computer", sales: 5000000 };

      addArtist(artist);

      musicData.forEach((fa) => {
        let li = document.createElement("li");
        li.innerText = `artist: ${fa.artist},name: ${fa.name},sales: ${fa.sales}`;
        listUpdated.appendChild(li);
      });
      //5.3
      function getValue() {
        let input = document.getElementById("input");
        let artist = input.value;
        let result = findArtist(artist);

        result.forEach((fa) => {
          let li = document.createElement("li");
          li.innerText = `El álbum ${fa.name} del artista ${fa.artist} vendió aproximadamente ${fa.sales} copias.`;
          listSearch.appendChild(li);
        });
      }
    </script>
  </body>
</html>
